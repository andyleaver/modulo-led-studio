{
  "fixtures": {
    "demo_hub75_hw_validation_clockdot.json": {
      "ino_bytes": 57440,
      "ino_excerpt": {
        "head": "\n\n// --- Spectrum Shield / MSGEQ7 audio (optional) ---\n#define MODULA_USE_SPECTRUM_SHIELD 0\n// Default pins (change if needed)\n#define MSGEQ7_RESET_PIN 5\n#define MSGEQ7_STROBE_PIN 4\n#define MSGEQ7_LEFT_PIN A0\n#define MSGEQ7_RIGHT_PIN A1\n\nstatic uint16_t g_left[7];\nstatic uint16_t g_right[7];\nstatic float    g_mono[7];\nstatic float    g_energy = 0.0f;\n\nstatic void msgeq7_setup() {\n  pinMode(MSGEQ7_RESET_PIN, OUTPUT);\n  pinMode(MSGEQ7_STROBE_PIN, OUTPUT);\n  digitalWrite(MSGEQ7_RESET_PIN, LOW);\n  digitalWrite(MSGEQ7_STROBE_PIN, HIGH);\n}\n\nstatic void msgeq7_read() {\n#if MODULA_USE_SPECTRUM_SHIELD\n  digitalWrite(MSGEQ7_RESET_PIN, HIGH);\n  delayMicroseconds(2);\n  digitalWrite(MSGEQ7_RESET_PIN, LOW);\n\n  float e = 0.0f;\n  for (int i=0;i<7;i++){\n    digitalWrite(MSGEQ7_STROBE_PIN, LOW);\n    delayMicroseconds(30);\n    uint16_t L = (uint16_t)analogRead(MSGEQ7_LEFT_PIN);\n    uint16_t R = (uint16_t)analogRead(MSGEQ7_RIGHT_PIN);\n    digitalWrite(MSGEQ7_STROBE_PIN, HIGH);\n    g_left[i]=L; g_right[i]=R;\n    float lf = (float)L / 1023.0f;\n    float rf = (float)R / 1023.0f;\n    float mf = 0.5f*(lf+rf);\n    g_mono[i] = mf;\n    e += mf;\n  }\n  g_energy = e / 7.0f;\n#else\n  g_energy = 0.0f;\n  for(int i=0;i<7;i++){ g_left[i]=0; g_right[i]=0; g_mono[i]=0.0f; }\n#endif\n}\n\nstatic inline float audio_value(uint8_t src) {\n  if (src == 2) return g_energy; // energy\n  if (src >= 10 && src <= 16) return g_mono[src-10];\n  if (src >= 20 && src <= 26) return (float)g_left[src-20] / 1023.0f;\n  if (src >= 30 && src <= 36) return (float)g_right[src-30] / 1023.0f;\n  return 0.0f;\n}\n\n\n// --- LED backend implementation ---\n// Modulo export: MODULO_EXPORT\\n// Safe defaults for FastLED template params\n#ifndef LED_TYPE\n  #define LED_TYPE WS2812B\n#endif\n#ifndef COLOR_ORDER\n  #define COLOR_ORDER GRB\n#endif\n#ifndef LED_BRIGHTNESS\n  #define LED_BRIGHTNESS 255\n#endif\n#include <FastLED.h>\n#include <string.h>\nCRGB leds[NUM_LEDS];\n\nstatic void modulo_wifi_init() {\n    // Choose credentials: exported constants win; otherwise use stored device creds.\n    String ssid = (MODULO_WIFI_SSID && MODULO_WIFI_SSID[0]) ? String(MODULO_WIFI_SSID) : __modulo_load_ssid();\n    String pass = (MODULO_WIFI_SSID && MODULO_WIFI_SSID[0]) ? String(MODULO_WIFI_PASS) : __modulo_load_pass();\n\n    bool have_creds = (ssid.length() > 0);\n    if (have_creds) {\n",
        "line_count": 1749,
        "tail": "      else if (beh == 8) evalBouncer(li, i, br, sp, wd, lr, lg, lb);\n      else if (beh == 5) evalFade(li, t, br, sp, lr, lg, lb);\n      else if (beh == 6) evalStrobe(li, t, br, sp, L_DUTY[li], lr, lg, lb);\n      else if (beh == 7) evalRainbow(li, i, t, br, sp, L_HUEOFF[li], L_HUESPAN[li], lr, lg, lb);\n      else if (beh == 11) evalTilemapSprite(li, i, t, br, sp, pf0, pf1, lr, lg, lb);\n      else if (beh == 12) evalCACluster(li, i, t, br, sp, pf1, lr, lg, lb);\n      else if (beh == 13) evalMSGEQ7(li, i, t, br, sp, pf1, lr, lg, lb);\n      else if (beh == 9) evalBreakout(li, i, br, wd, so, dn, lr, lg, lb);\n      else if (beh == 10) evalAsteroids(li, i, br, so, dn, lr, lg, lb);\n      else if (beh == 14) evalSnakeLite(li, i, br, lr, lg, lb);\n      else if (beh == 15) evalInvadersLite(li, i, br, lr, lg, lb);\n      else if (beh == 16) evalShooterLite(li, i, br, lr, lg, lb);\n      else if (beh == 17) evalBlocksBallLite(li, i, br, lr, lg, lb);\n      else if (beh == 1) evalChase(li, i, t, br, sp, wd, dir, lr, lg, lb);\n      else if (beh == 2) evalWipe(li, i, t, br, sp, so, dir, lr, lg, lb);\n      else if (beh == 3) evalSparkle(li, i, t, br, dn, lr, lg, lb);\n      else if (beh == 4) evalScanner(li, i, t, br, sp, wd, so, dir, lr, lg, lb);\n      else evalSolid(li, br, lr, lg, lb);\n\n      // Apply per-layer operators before blend/opacity\n      apply_layer_operators(li, lr, lg, lb);\n\n      float op = clamp01(L_OP_RT[li]);\n\n      float blendedR = blendChan(outR, lr, L_BLEND[li]);\n      float blendedG = blendChan(outG, lg, L_BLEND[li]);\n      float blendedB = blendChan(outB, lb, L_BLEND[li]);\n\n      outR = outR * (1.0f - op) + blendedR * op;\n      outG = outG * (1.0f - op) + blendedG * op;\n      outB = outB * (1.0f - op) + blendedB * op;\n    }}\n\n    leds[i] = CRGB((uint8_t)clamp01(outR/255.0f)*255, (uint8_t)clamp01(outG/255.0f)*255, (uint8_t)clamp01(outB/255.0f)*255);\n  }}\n\n{postfx_apply}\n  modulo_led_show();\n}}\n\n"
      },
      "ino_relpath": "export.ino",
      "ino_sha256": "32168b86473951b6e06c6c499cea7291e3d57b0b5fff99ebc9c623288bd581b7"
    },
    "demo_hub75_tilemap_runner.json": {
      "ino_bytes": 57440,
      "ino_excerpt": {
        "head": "\n\n// --- Spectrum Shield / MSGEQ7 audio (optional) ---\n#define MODULA_USE_SPECTRUM_SHIELD 0\n// Default pins (change if needed)\n#define MSGEQ7_RESET_PIN 5\n#define MSGEQ7_STROBE_PIN 4\n#define MSGEQ7_LEFT_PIN A0\n#define MSGEQ7_RIGHT_PIN A1\n\nstatic uint16_t g_left[7];\nstatic uint16_t g_right[7];\nstatic float    g_mono[7];\nstatic float    g_energy = 0.0f;\n\nstatic void msgeq7_setup() {\n  pinMode(MSGEQ7_RESET_PIN, OUTPUT);\n  pinMode(MSGEQ7_STROBE_PIN, OUTPUT);\n  digitalWrite(MSGEQ7_RESET_PIN, LOW);\n  digitalWrite(MSGEQ7_STROBE_PIN, HIGH);\n}\n\nstatic void msgeq7_read() {\n#if MODULA_USE_SPECTRUM_SHIELD\n  digitalWrite(MSGEQ7_RESET_PIN, HIGH);\n  delayMicroseconds(2);\n  digitalWrite(MSGEQ7_RESET_PIN, LOW);\n\n  float e = 0.0f;\n  for (int i=0;i<7;i++){\n    digitalWrite(MSGEQ7_STROBE_PIN, LOW);\n    delayMicroseconds(30);\n    uint16_t L = (uint16_t)analogRead(MSGEQ7_LEFT_PIN);\n    uint16_t R = (uint16_t)analogRead(MSGEQ7_RIGHT_PIN);\n    digitalWrite(MSGEQ7_STROBE_PIN, HIGH);\n    g_left[i]=L; g_right[i]=R;\n    float lf = (float)L / 1023.0f;\n    float rf = (float)R / 1023.0f;\n    float mf = 0.5f*(lf+rf);\n    g_mono[i] = mf;\n    e += mf;\n  }\n  g_energy = e / 7.0f;\n#else\n  g_energy = 0.0f;\n  for(int i=0;i<7;i++){ g_left[i]=0; g_right[i]=0; g_mono[i]=0.0f; }\n#endif\n}\n\nstatic inline float audio_value(uint8_t src) {\n  if (src == 2) return g_energy; // energy\n  if (src >= 10 && src <= 16) return g_mono[src-10];\n  if (src >= 20 && src <= 26) return (float)g_left[src-20] / 1023.0f;\n  if (src >= 30 && src <= 36) return (float)g_right[src-30] / 1023.0f;\n  return 0.0f;\n}\n\n\n// --- LED backend implementation ---\n// Modulo export: MODULO_EXPORT\\n// Safe defaults for FastLED template params\n#ifndef LED_TYPE\n  #define LED_TYPE WS2812B\n#endif\n#ifndef COLOR_ORDER\n  #define COLOR_ORDER GRB\n#endif\n#ifndef LED_BRIGHTNESS\n  #define LED_BRIGHTNESS 255\n#endif\n#include <FastLED.h>\n#include <string.h>\nCRGB leds[NUM_LEDS];\n\nstatic void modulo_wifi_init() {\n    // Choose credentials: exported constants win; otherwise use stored device creds.\n    String ssid = (MODULO_WIFI_SSID && MODULO_WIFI_SSID[0]) ? String(MODULO_WIFI_SSID) : __modulo_load_ssid();\n    String pass = (MODULO_WIFI_SSID && MODULO_WIFI_SSID[0]) ? String(MODULO_WIFI_PASS) : __modulo_load_pass();\n\n    bool have_creds = (ssid.length() > 0);\n    if (have_creds) {\n",
        "line_count": 1749,
        "tail": "      else if (beh == 8) evalBouncer(li, i, br, sp, wd, lr, lg, lb);\n      else if (beh == 5) evalFade(li, t, br, sp, lr, lg, lb);\n      else if (beh == 6) evalStrobe(li, t, br, sp, L_DUTY[li], lr, lg, lb);\n      else if (beh == 7) evalRainbow(li, i, t, br, sp, L_HUEOFF[li], L_HUESPAN[li], lr, lg, lb);\n      else if (beh == 11) evalTilemapSprite(li, i, t, br, sp, pf0, pf1, lr, lg, lb);\n      else if (beh == 12) evalCACluster(li, i, t, br, sp, pf1, lr, lg, lb);\n      else if (beh == 13) evalMSGEQ7(li, i, t, br, sp, pf1, lr, lg, lb);\n      else if (beh == 9) evalBreakout(li, i, br, wd, so, dn, lr, lg, lb);\n      else if (beh == 10) evalAsteroids(li, i, br, so, dn, lr, lg, lb);\n      else if (beh == 14) evalSnakeLite(li, i, br, lr, lg, lb);\n      else if (beh == 15) evalInvadersLite(li, i, br, lr, lg, lb);\n      else if (beh == 16) evalShooterLite(li, i, br, lr, lg, lb);\n      else if (beh == 17) evalBlocksBallLite(li, i, br, lr, lg, lb);\n      else if (beh == 1) evalChase(li, i, t, br, sp, wd, dir, lr, lg, lb);\n      else if (beh == 2) evalWipe(li, i, t, br, sp, so, dir, lr, lg, lb);\n      else if (beh == 3) evalSparkle(li, i, t, br, dn, lr, lg, lb);\n      else if (beh == 4) evalScanner(li, i, t, br, sp, wd, so, dir, lr, lg, lb);\n      else evalSolid(li, br, lr, lg, lb);\n\n      // Apply per-layer operators before blend/opacity\n      apply_layer_operators(li, lr, lg, lb);\n\n      float op = clamp01(L_OP_RT[li]);\n\n      float blendedR = blendChan(outR, lr, L_BLEND[li]);\n      float blendedG = blendChan(outG, lg, L_BLEND[li]);\n      float blendedB = blendChan(outB, lb, L_BLEND[li]);\n\n      outR = outR * (1.0f - op) + blendedR * op;\n      outG = outG * (1.0f - op) + blendedG * op;\n      outB = outB * (1.0f - op) + blendedB * op;\n    }}\n\n    leds[i] = CRGB((uint8_t)clamp01(outR/255.0f)*255, (uint8_t)clamp01(outG/255.0f)*255, (uint8_t)clamp01(outB/255.0f)*255);\n  }}\n\n{postfx_apply}\n  modulo_led_show();\n}}\n\n"
      },
      "ino_relpath": "export.ino",
      "ino_sha256": "472574604a2831633efe9f25a2af70f5acf3d1f7499f50e6674b0c9674322035"
    },
    "demo_strip_aurora_golden.json": {
      "ino_bytes": 55190,
      "ino_excerpt": {
        "head": "\n\n// --- Spectrum Shield / MSGEQ7 audio (optional) ---\n#define MODULA_USE_SPECTRUM_SHIELD 0\n// Default pins (change if needed)\n#define MSGEQ7_RESET_PIN 5\n#define MSGEQ7_STROBE_PIN 4\n#define MSGEQ7_LEFT_PIN A0\n#define MSGEQ7_RIGHT_PIN A1\n\nstatic uint16_t g_left[7];\nstatic uint16_t g_right[7];\nstatic float    g_mono[7];\nstatic float    g_energy = 0.0f;\n\nstatic void msgeq7_setup() {\n  pinMode(MSGEQ7_RESET_PIN, OUTPUT);\n  pinMode(MSGEQ7_STROBE_PIN, OUTPUT);\n  digitalWrite(MSGEQ7_RESET_PIN, LOW);\n  digitalWrite(MSGEQ7_STROBE_PIN, HIGH);\n}\n\nstatic void msgeq7_read() {\n#if MODULA_USE_SPECTRUM_SHIELD\n  digitalWrite(MSGEQ7_RESET_PIN, HIGH);\n  delayMicroseconds(2);\n  digitalWrite(MSGEQ7_RESET_PIN, LOW);\n\n  float e = 0.0f;\n  for (int i=0;i<7;i++){\n    digitalWrite(MSGEQ7_STROBE_PIN, LOW);\n    delayMicroseconds(30);\n    uint16_t L = (uint16_t)analogRead(MSGEQ7_LEFT_PIN);\n    uint16_t R = (uint16_t)analogRead(MSGEQ7_RIGHT_PIN);\n    digitalWrite(MSGEQ7_STROBE_PIN, HIGH);\n    g_left[i]=L; g_right[i]=R;\n    float lf = (float)L / 1023.0f;\n    float rf = (float)R / 1023.0f;\n    float mf = 0.5f*(lf+rf);\n    g_mono[i] = mf;\n    e += mf;\n  }\n  g_energy = e / 7.0f;\n#else\n  g_energy = 0.0f;\n  for(int i=0;i<7;i++){ g_left[i]=0; g_right[i]=0; g_mono[i]=0.0f; }\n#endif\n}\n\nstatic inline float audio_value(uint8_t src) {\n  if (src == 2) return g_energy; // energy\n  if (src >= 10 && src <= 16) return g_mono[src-10];\n  if (src >= 20 && src <= 26) return (float)g_left[src-20] / 1023.0f;\n  if (src >= 30 && src <= 36) return (float)g_right[src-30] / 1023.0f;\n  return 0.0f;\n}\n\n\n// --- LED backend implementation ---\n// Modulo export: MODULO_EXPORT\\n// Safe defaults for FastLED template params\n#ifndef LED_TYPE\n  #define LED_TYPE WS2812B\n#endif\n#ifndef COLOR_ORDER\n  #define COLOR_ORDER GRB\n#endif\n#ifndef LED_BRIGHTNESS\n  #define LED_BRIGHTNESS 255\n#endif\n#include <FastLED.h>\n#include <string.h>\nCRGB leds[NUM_LEDS];\n\nstatic void modulo_wifi_init() {\n    // Choose credentials: exported constants win; otherwise use stored device creds.\n    String ssid = (MODULO_WIFI_SSID && MODULO_WIFI_SSID[0]) ? String(MODULO_WIFI_SSID) : __modulo_load_ssid();\n    String pass = (MODULO_WIFI_SSID && MODULO_WIFI_SSID[0]) ? String(MODULO_WIFI_PASS) : __modulo_load_pass();\n\n    bool have_creds = (ssid.length() > 0);\n    if (have_creds) {\n",
        "line_count": 1678,
        "tail": "      else if (beh == 8) evalBouncer(li, i, br, sp, wd, lr, lg, lb);\n      else if (beh == 5) evalFade(li, t, br, sp, lr, lg, lb);\n      else if (beh == 6) evalStrobe(li, t, br, sp, L_DUTY[li], lr, lg, lb);\n      else if (beh == 7) evalRainbow(li, i, t, br, sp, L_HUEOFF[li], L_HUESPAN[li], lr, lg, lb);\n      else if (beh == 11) evalTilemapSprite(li, i, t, br, sp, pf0, pf1, lr, lg, lb);\n      else if (beh == 12) evalCACluster(li, i, t, br, sp, pf1, lr, lg, lb);\n      else if (beh == 13) evalMSGEQ7(li, i, t, br, sp, pf1, lr, lg, lb);\n      else if (beh == 9) evalBreakout(li, i, br, wd, so, dn, lr, lg, lb);\n      else if (beh == 10) evalAsteroids(li, i, br, so, dn, lr, lg, lb);\n      else if (beh == 14) evalSnakeLite(li, i, br, lr, lg, lb);\n      else if (beh == 15) evalInvadersLite(li, i, br, lr, lg, lb);\n      else if (beh == 16) evalShooterLite(li, i, br, lr, lg, lb);\n      else if (beh == 17) evalBlocksBallLite(li, i, br, lr, lg, lb);\n      else if (beh == 1) evalChase(li, i, t, br, sp, wd, dir, lr, lg, lb);\n      else if (beh == 2) evalWipe(li, i, t, br, sp, so, dir, lr, lg, lb);\n      else if (beh == 3) evalSparkle(li, i, t, br, dn, lr, lg, lb);\n      else if (beh == 4) evalScanner(li, i, t, br, sp, wd, so, dir, lr, lg, lb);\n      else evalSolid(li, br, lr, lg, lb);\n\n      // Apply per-layer operators before blend/opacity\n      apply_layer_operators(li, lr, lg, lb);\n\n      float op = clamp01(L_OP_RT[li]);\n\n      float blendedR = blendChan(outR, lr, L_BLEND[li]);\n      float blendedG = blendChan(outG, lg, L_BLEND[li]);\n      float blendedB = blendChan(outB, lb, L_BLEND[li]);\n\n      outR = outR * (1.0f - op) + blendedR * op;\n      outG = outG * (1.0f - op) + blendedG * op;\n      outB = outB * (1.0f - op) + blendedB * op;\n    }}\n\n    leds[i] = CRGB((uint8_t)clamp01(outR/255.0f)*255, (uint8_t)clamp01(outG/255.0f)*255, (uint8_t)clamp01(outB/255.0f)*255);\n  }}\n\n{postfx_apply}\n  modulo_led_show();\n}}\n\n"
      },
      "ino_relpath": "export.ino",
      "ino_sha256": "6d4ae11d977a71b957ea4e1b5ff73a7b214b533443aa2d5780bd4bae283c3781"
    }
  }
}
